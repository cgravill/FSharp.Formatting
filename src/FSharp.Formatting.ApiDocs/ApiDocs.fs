namespace FSharp.Formatting.ApiDocs

/// This type exposes the functionality for producing documentation model from `dll` files with associated `xml` files
/// generated by the F# or C# compiler. To generate documentation model, use one of the overloades of the `Generate` method.
type ApiDocs =

    /// This overload generates documentation for multiple files specified by the `dllFiles` parameter
    ///
    ///  - `parameters` - provides additional parameters to the DotLiquid templates
    ///  - `xmlFile` - can be used to override the default name of the XML file (by default, we assume
    ///     the file has the same name as the DLL)
    ///  - `markDownComments` - specifies if you want to use the Markdown parser for in-code comments.
    ///    With `markDownComments` enabled there is no support for `<see cref="">` links, so `false` is
    ///    recommended for C# assemblies (if not specified, `true` is used).
    ///  - `sourceFolder` and `sourceRepo` - When specified, the documentation generator automatically
    ///    generates links to GitHub pages for each of the entity.
    ///  - `publicOnly` - When set to `false`, the tool will also generate documentation for non-public members
    ///  - `libDirs` - Use this to specify additional paths where referenced DLL files can be found
    ///  - `otherFlags` - Additional flags that are passed to the F# compiler (you can use this if you want to
    ///    specify references explicitly etc.)
    ///  - `urlRangeHighlight` - A function that can be used to override the default way of generating GitHub links
    ///
    static member GenerateModel(dllFiles: seq<string>, ?parameters, ?xmlFile, ?sourceRepo, ?sourceFolder, ?publicOnly, ?libDirs, ?otherFlags, ?markDownComments, ?urlRangeHighlight) =
        ApiDocsModel.Generate(dllFiles, parameters=parameters, xmlFile=xmlFile, sourceRepo=sourceRepo, sourceFolder=sourceFolder,
            publicOnly=publicOnly, libDirs=libDirs, otherFlags=otherFlags, markDownComments=markDownComments,
            urlRangeHighlight=urlRangeHighlight) 

    static member GenerateHtmlFromModel(model: ApiDocsModel, outDir, ?template) =
        GenerateHtml.Generate(model, outDir, template)

    static member GenerateHtml(dllFiles: seq<string>, outDir, ?parameters, ?template, ?xmlFile, ?sourceRepo, ?sourceFolder, ?publicOnly, ?libDirs, ?otherFlags, ?markDownComments, ?urlRangeHighlight) =
        let model = ApiDocs.GenerateModel(dllFiles, ?parameters=parameters, ?xmlFile=xmlFile, ?sourceRepo=sourceRepo, ?sourceFolder=sourceFolder, ?publicOnly=publicOnly, ?libDirs=libDirs, ?otherFlags=otherFlags, ?markDownComments=markDownComments, ?urlRangeHighlight=urlRangeHighlight)
        ApiDocs.GenerateHtmlFromModel(model, outDir=outDir, ?template=template)

